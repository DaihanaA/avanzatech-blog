<div class="login-container">
  <div class="login-box">
    <h2>Iniciar sesiÃ³n</h2>
    <form [formGroup]="loginForm" (ngSubmit)="login()" class="login-form">

      <label for="username">Correo electrÃ³nico:</label>
      <input id="username" formControlName="username" type="email" placeholder="Correo" (blur)="validateField('username')" />
      <div *ngIf="loginForm.controls['username'].touched && loginForm.controls['username'].invalid" class="error-message">
        <p *ngIf="loginForm.controls['username'].errors?.['required']">El correo es obligatorio.</p>
        <p *ngIf="loginForm.controls['username'].errors?.['email']">El formato del correo no es vÃ¡lido.</p>
      </div>

      <label for="password">ContraseÃ±a:</label>
      <div class="password-container">
        <input id="password" formControlName="password" [type]="passwordFieldType" placeholder="ContraseÃ±a" (blur)="validateField('password')" />
        <button type="button" (click)="togglePasswordVisibility()">
          {{ passwordFieldType === 'password' ? 'ğŸ‘ï¸â€ğŸ—¨ï¸' : 'ğŸ‘ï¸' }}
        </button>
      </div>
      <div *ngIf="loginForm.controls['password'].touched && loginForm.controls['password'].invalid" class="error-message">
        <p *ngIf="loginForm.controls['password'].errors?.['required']">La contraseÃ±a es obligatoria.</p>
        <p *ngIf="loginForm.controls['password'].errors?.['minlength']">Debe tener al menos 8 caracteres.</p>
      </div>

      <div *ngIf="errorMessage" class="error-message">
        {{ errorMessage }}
      </div>

      <button type="submit" [disabled]="loginForm.invalid">Iniciar sesiÃ³n</button>
      <button type="button" class="btn-cancel" (click)="onCancel()">Cancelar</button>
      <p>Â¿No tienes una cuenta? <a routerLink="/register" class="register-link">RegÃ­strate aquÃ­</a></p>
    </form>
  </div>
</div>
